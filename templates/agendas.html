{% extends "base.html" %}

{% block content %}

<div style="margin: 20px" class="card">
    <div class="card-body">
        <h5 class="card-title">Listagem de agendas</h5>

        <table class="table">
            <thead>
                <tr>
                    <th scope="col">#</th>
                    <th scope="col">Nome</th>
                    <th scope="col">Descrição</th>
                    <th scope="col">Ações</th>
                </tr>
            </thead>
            <tbody>
                {% for agenda in agendas %}
                <tr>
                    <th scope="row">{{agenda.id}}</th>
                    <td>{{agenda.title}}</td>
                    <td>{{agenda.description}}</td>
                    <td style="padding:0px;padding-top: 3px">
                        <button type="button" class="btn btn-success bmd-btn-fab bmd-btn-fab-sm"><i class="material-icons">create</i></button>
                        <button type="button" onclick="deletarAgenda({{agenda.id}})" class="btn btn-danger bmd-btn-fab bmd-btn-fab-sm"><i class="material-icons">delete</i></button>
                    </td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
</div>

<a href="/agenda">
    <button type="button" style="position: fixed;bottom: 15px;right: 15px" class="btn btn-primary bmd-btn-fab">
        <i class="material-icons">add</i>
    </button>
</a>

<script>

function deletarAgenda(id){
    Swal.fire({
  title: 'Deseja realmente deletar a agenda número ' + id + '?',
  text: "Você não poderá voltar atrás!",
  type: 'warning',
  showCancelButton: true,
  confirmButtonColor: '#3085d6',
  cancelButtonColor: '#d33',
  confirmButtonText: 'Yes, delete it!'
}).then((result) => {
  if (result.value) {
    Swal.fire(
      'Deleted!',
      'Your file has been deleted.',
      'success'
    )
  }
})
}

</script>

{% endblock %}
